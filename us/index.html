<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Owen & Alyssa</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&family=Pacifico&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --pink: #ff8a65;
      --pink-light: #ffccbc;
      --pink-dark: #e64a19;
      --purple: #5c6bc0;
      --yellow: #ffd93d;
      --mint: #4dd0e1;
      --coral: #ff7043;
      --white: #ffffff;
      --dark: #2d3436;
    }

    html { scroll-behavior: smooth; touch-action: manipulation; }

    body {
      font-family: 'Quicksand', sans-serif;
      color: var(--dark);
      line-height: 1.6;
      background: linear-gradient(135deg, #fff8f0 0%, #f0f4ff 50%, #e8f5f5 100%);
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* Floating Hearts Background */
    .hearts-bg {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
      z-index: 0;
      overflow: hidden;
    }

    .heart {
      position: absolute;
      font-size: 1.5rem;
      animation: float 15s infinite ease-in-out;
      opacity: 0.3;
    }

    @keyframes float {
      0%, 100% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
      10% { opacity: 0.3; }
      90% { opacity: 0.3; }
      100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
    }

    .content {
      position: relative;
      z-index: 1;
    }

    /* INTRO SCREEN */
    .intro-screen {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 2rem;
    }

    .intro-title {
      font-family: 'Pacifico', cursive;
      font-size: clamp(2.5rem, 8vw, 5rem);
      background: linear-gradient(135deg, var(--pink), var(--purple));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 1rem;
      animation: bounce-in 1s ease-out;
    }

    .intro-subtitle {
      font-size: 1.3rem;
      color: var(--pink-dark);
      margin-bottom: 2rem;
    }

    .start-btn {
      background: linear-gradient(135deg, var(--pink), var(--purple));
      color: white;
      border: none;
      padding: 1rem 3rem;
      font-size: 1.2rem;
      font-family: 'Quicksand', sans-serif;
      font-weight: 700;
      border-radius: 50px;
      cursor: pointer;
      transition: transform 0.3s, box-shadow 0.3s;
      box-shadow: 0 10px 30px rgba(255, 107, 157, 0.4);
    }

    .start-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 15px 40px rgba(255, 107, 157, 0.5);
    }

    @keyframes bounce-in {
      0% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); opacity: 1; }
    }

    /* MAIN EXPERIENCE */
    .experience {
      display: none;
      padding: 2rem;
      max-width: 800px;
      margin: 0 auto;
    }

    .experience.active {
      display: block;
      animation: fade-in 0.5s ease;
    }

    @keyframes fade-in {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* CARDS */
    .card {
      background: white;
      border-radius: 24px;
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: 0 10px 40px rgba(0,0,0,0.08);
      text-align: center;
    }

    .card-title {
      font-family: 'Pacifico', cursive;
      font-size: 1.8rem;
      color: var(--pink-dark);
      margin-bottom: 1rem;
    }

    /* THANKS BUTTON */
    .thanks-zone {
      padding: 2rem;
      min-height: 200px;
      position: relative;
    }

    .thanks-btn {
      background: var(--yellow);
      border: none;
      padding: 1rem 2rem;
      font-size: 1.1rem;
      font-family: 'Quicksand', sans-serif;
      font-weight: 700;
      border-radius: 16px;
      cursor: pointer;
      transition: transform 0.1s;
      position: relative;
      z-index: 2;
      touch-action: manipulation;
      -webkit-user-select: none;
      user-select: none;
    }

    .thanks-btn:active {
      transform: scale(0.95);
    }

    .flying-thanks {
      position: absolute;
      font-weight: 700;
      color: var(--pink);
      pointer-events: none;
      animation: fly-up 1.5s ease-out forwards;
      font-size: 1rem;
    }

    @keyframes fly-up {
      0% { opacity: 1; transform: translateY(0) rotate(0deg); }
      100% { opacity: 0; transform: translateY(-200px) rotate(20deg); }
    }

    .thanks-counter {
      margin-top: 1rem;
      font-size: 0.9rem;
      color: #999;
    }

    /* HOUND SECTION */
    .hound-card {
      cursor: pointer;
      user-select: none;
    }

    .hound-reveal {
      position: relative;
      width: 220px;
      height: 220px;
      margin: 1rem auto;
      border-radius: 50%;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0,0,0,0.15);
      transition: transform 0.3s;
    }

    .hound-card:hover .hound-reveal {
      transform: scale(1.05);
    }

    .hound-reveal img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      filter: blur(15px) grayscale(100%);
      transition: filter 0.5s;
    }

    .hound-card.revealed .hound-reveal img {
      filter: none;
    }

    .hound-label {
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%) scale(0);
      background: var(--coral);
      color: white;
      padding: 0.5rem 1.5rem;
      border-radius: 20px;
      font-weight: 700;
      transition: transform 0.3s, bottom 0.3s;
    }

    .hound-card.revealed .hound-label {
      transform: translateX(-50%) scale(1);
      bottom: 10px;
    }

    .hound-hint {
      font-size: 0.9rem;
      color: #999;
      margin-top: 1rem;
      transition: opacity 0.3s;
    }

    .hound-card.revealed .hound-hint {
      color: var(--pink);
    }

    /* PHOTO STACK */
    .photo-stack {
      position: relative;
      width: 280px;
      height: 350px;
      margin: 2rem auto;
      perspective: 1000px;
    }

    .polaroid {
      position: absolute;
      width: 100%;
      background: white;
      padding: 15px 15px 50px;
      border-radius: 4px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      cursor: grab;
      transition: transform 0.4s ease, box-shadow 0.3s;
      transform-origin: center bottom;
    }

    .polaroid:active { cursor: grabbing; }

    .polaroid img {
      width: 100%;
      height: 220px;
      object-fit: cover;
      border-radius: 2px;
    }

    .polaroid-caption {
      text-align: center;
      margin-top: 12px;
      font-weight: 600;
      color: var(--dark);
      font-size: 0.95rem;
    }

    .polaroid:hover {
      box-shadow: 0 20px 50px rgba(0,0,0,0.25);
    }

    .swipe-hint {
      text-align: center;
      color: #999;
      font-size: 0.9rem;
      margin-top: 1rem;
    }

    /* WINGSPAN */
    .wingspan-cards {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 1.5rem;
    }

    .bird-card {
      width: 200px;
      background: #faf8f2;
      border-radius: 12px;
      border: 2px solid #d4c9a8;
      overflow: hidden;
      cursor: pointer;
      transition: transform 0.3s, box-shadow 0.3s;
      text-align: left;
      font-size: 0.85rem;
    }

    .bird-card:hover {
      transform: translateY(-6px) rotate(1deg);
      box-shadow: 0 12px 30px rgba(0,0,0,0.15);
    }

    .bird-card-header {
      padding: 0.6rem 0.8rem;
      font-weight: 700;
      font-size: 0.95rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .bird-card-art {
      height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3rem;
    }

    .bird-card-cost {
      padding: 0.3rem 0.8rem;
      font-size: 0.75rem;
      color: #666;
      display: flex;
      align-items: center;
      gap: 0.3rem;
    }

    .bird-card-power {
      padding: 0.5rem 0.8rem;
      font-size: 0.8rem;
      color: #444;
      border-top: 1px solid #e8e0cc;
      min-height: 60px;
    }

    .bird-card-power strong {
      color: var(--purple);
    }

    .bird-card.owl .bird-card-header { background: #5c4033; color: white; }
    .bird-card.owl .bird-card-art { background: #f5ebe0; }
    .bird-card.bonus .bird-card-header { background: var(--purple); color: white; }
    .bird-card.bonus .bird-card-art { background: #ede7f6; }
    .bird-card.us .bird-card-header { background: var(--pink); color: white; }
    .bird-card.us .bird-card-art { background: #fff3e0; }

    .rat { font-size: 0.85rem; }

    .play-btn {
      display: inline-block;
      margin-top: 1.5rem;
      background: linear-gradient(135deg, #5c4033, #8d6e63);
      color: white;
      border: none;
      padding: 0.8rem 2rem;
      font-size: 1rem;
      font-family: 'Quicksand', sans-serif;
      font-weight: 700;
      border-radius: 30px;
      cursor: pointer;
      transition: transform 0.2s;
    }
    .play-btn:hover { transform: scale(1.05); }

    /* MODAL */
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.6);
      z-index: 999;
      justify-content: center;
      align-items: center;
      padding: 1rem;
    }
    .modal-overlay.open { display: flex; }

    .modal {
      background: #f5ebe0;
      border-radius: 20px;
      width: 100%;
      max-width: 700px;
      max-height: 90vh;
      overflow-y: auto;
      padding: 1.5rem;
      position: relative;
      box-shadow: 0 20px 60px rgba(0,0,0,0.4);
    }

    .modal-close {
      position: absolute;
      top: 0.8rem; right: 1rem;
      background: none; border: none;
      font-size: 1.5rem; cursor: pointer;
      color: #666;
    }

    .modal h2 {
      font-family: 'Pacifico', cursive;
      color: #5c4033;
      margin-bottom: 0.5rem;
      font-size: 1.5rem;
    }

    /* GAME */
    .game-status {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin: 1rem 0;
      font-weight: 600;
      font-size: 0.9rem;
    }

    .food-supply {
      display: flex;
      gap: 0.3rem;
      flex-wrap: wrap;
      align-items: center;
    }

    .food-token {
      font-size: 1.3rem;
      cursor: pointer;
      transition: transform 0.15s;
      user-select: none;
    }
    .food-token:hover { transform: scale(1.2); }
    .food-token.selected { transform: scale(1.3); filter: brightness(1.3); }

    .game-label {
      font-size: 0.8rem;
      color: #888;
      margin-bottom: 0.3rem;
    }

    .bird-tray {
      display: flex;
      gap: 0.8rem;
      justify-content: center;
      flex-wrap: wrap;
      margin: 1rem 0;
    }

    .tray-card {
      width: 170px;
      background: #faf8f2;
      border-radius: 10px;
      border: 2px solid #d4c9a8;
      overflow: hidden;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s, border-color 0.2s;
      text-align: left;
      font-size: 0.8rem;
    }
    .tray-card:hover { transform: translateY(-4px); box-shadow: 0 8px 20px rgba(0,0,0,0.12); }
    .tray-card.highlight { border-color: #4caf50; box-shadow: 0 0 12px rgba(76,175,80,0.4); }
    .tray-card.disabled { opacity: 0.4; cursor: not-allowed; }

    .tray-card .tc-header {
      padding: 0.4rem 0.6rem;
      font-weight: 700;
      font-size: 0.85rem;
      background: #8d6e63;
      color: white;
      display: flex;
      justify-content: space-between;
    }

    .tray-card .tc-art {
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      background: #faf8f2;
    }

    .tray-card .tc-cost {
      padding: 0.3rem 0.6rem;
      font-size: 0.75rem;
      color: #666;
    }

    .tray-card .tc-pts {
      background: #ffd93d;
      color: #333;
      padding: 0.1rem 0.4rem;
      border-radius: 4px;
      font-size: 0.75rem;
    }

    .tray-card .tc-power {
      padding: 0.3rem 0.6rem;
      font-size: 0.72rem;
      color: #555;
      border-top: 1px solid #e8e0cc;
    }

    .my-birds {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      min-height: 40px;
      padding: 0.5rem;
      background: rgba(255,255,255,0.5);
      border-radius: 10px;
      margin: 0.5rem 0;
    }

    .my-bird-mini {
      font-size: 1.5rem;
      transition: transform 0.2s;
    }
    .my-bird-mini:hover { transform: scale(1.2); }

    .game-msg {
      text-align: center;
      font-weight: 600;
      color: #5c4033;
      margin: 0.5rem 0;
      min-height: 1.5rem;
      font-size: 0.9rem;
    }

    .game-over-screen {
      text-align: center;
      padding: 1rem;
    }

    .game-over-screen h3 {
      font-family: 'Pacifico', cursive;
      font-size: 1.8rem;
      color: #5c4033;
      margin-bottom: 0.5rem;
    }

    .final-score {
      font-size: 3rem;
      font-weight: 800;
      color: var(--purple);
      margin: 0.5rem 0;
    }

    .game-action-btn {
      display: inline-block;
      margin-top: 0.8rem;
      background: #8d6e63;
      color: white;
      border: none;
      padding: 0.6rem 1.5rem;
      font-size: 0.9rem;
      font-family: 'Quicksand', sans-serif;
      font-weight: 700;
      border-radius: 20px;
      cursor: pointer;
      transition: transform 0.2s;
    }
    .game-action-btn:hover { transform: scale(1.05); }

    /* LOVE METER */
    .love-meter {
      margin: 2rem auto;
      max-width: 300px;
    }

    .meter-bar {
      height: 30px;
      background: #eee;
      border-radius: 15px;
      overflow: hidden;
      position: relative;
    }

    .meter-fill {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, var(--pink), var(--coral), var(--yellow));
      border-radius: 15px;
      transition: width 0.5s ease-out;
    }

    .meter-label {
      text-align: center;
      margin-top: 0.5rem;
      font-weight: 700;
      color: var(--pink-dark);
      font-size: 1.1rem;
    }

    .boost-btn {
      display: block;
      margin: 1rem auto;
      background: linear-gradient(135deg, var(--pink), var(--coral));
      color: white;
      border: none;
      padding: 0.8rem 2rem;
      font-size: 1rem;
      font-family: 'Quicksand', sans-serif;
      font-weight: 700;
      border-radius: 30px;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .boost-btn:hover { transform: scale(1.05); }
    .boost-btn:active { transform: scale(0.98); }

    /* SECRET MESSAGE */
    .secret-box {
      background: linear-gradient(135deg, var(--purple), var(--pink));
      border-radius: 20px;
      padding: 2rem;
      color: white;
      position: relative;
      overflow: hidden;
    }

    .scratch-area {
      position: relative;
      height: 120px;
      background: white;
      border-radius: 12px;
      margin-top: 1rem;
      cursor: crosshair;
      overflow: hidden;
    }

    .scratch-canvas {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      border-radius: 12px;
    }

    .hidden-message {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      font-family: 'Pacifico', cursive;
      font-size: 1.3rem;
      color: var(--pink-dark);
      text-align: center;
      width: 90%;
    }

    /* FINAL MESSAGE */
    .final-card {
      background: linear-gradient(135deg, var(--pink-light), #fff);
      border: 3px solid var(--pink);
    }

    .final-message {
      font-size: 1.15rem;
      line-height: 1.8;
      margin-bottom: 1.5rem;
    }

    .signature {
      font-family: 'Pacifico', cursive;
      font-size: 2rem;
      color: var(--pink-dark);
    }

    /* EMOJI RAIN */
    .emoji-rain {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
      z-index: 100;
    }

    .rain-emoji {
      position: absolute;
      font-size: 2rem;
      animation: rain-fall 3s linear forwards;
    }

    @keyframes rain-fall {
      0% { transform: translateY(-50px) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
    }

    /* FOOTER */
    footer {
      text-align: center;
      padding: 3rem 2rem;
      color: var(--pink-dark);
      font-weight: 600;
    }

    .heart-icon {
      display: inline-block;
      animation: pulse 1s infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }

    /* Responsive */
    @media (max-width: 500px) {
      .photo-stack { width: 260px; height: 320px; }
      .polaroid { padding: 12px 12px 45px; }
      .polaroid img { height: 190px; }
      .card { padding: 1.5rem; }
    }
  </style>
</head>
<body>

<div class="hearts-bg" id="hearts"></div>
<div class="emoji-rain" id="emojiRain"></div>

<div class="content">

  <!-- INTRO -->
  <section class="intro-screen" id="intro">
    <h1 class="intro-title">hi cute</h1>
    <p class="intro-subtitle">I made something for you...</p>
    <button class="start-btn" onclick="startExperience()">Open Your Gift üíù</button>
  </section>

  <!-- MAIN EXPERIENCE -->
  <div class="experience" id="experience">

    <!-- THANKS SPAM -->
    <div class="card">
      <h2 class="card-title">First things first...</h2>
      <p>Thank you for being the best girlfriend ever.</p>
      <div class="thanks-zone" id="thanksZone">
        <button class="thanks-btn" id="thanksBtn">thanks thanks thanks</button>
      </div>
      <p class="thanks-counter" id="thanksCounter"></p>
    </div>

    <!-- HOUND REVEAL -->
    <div class="card hound-card" id="houndCard">
      <h2 class="card-title">A Rare Creature Spotted</h2>
      <p>Click to reveal the legendary beast...</p>
      <div class="hound-reveal">
        <img src="photos/IMG_4798.jpg" alt="hound">
        <div class="hound-label">hound üêï</div>
      </div>
      <p class="hound-hint" id="houndHint">tap to reveal true form</p>
    </div>

    <!-- PHOTO STACK -->
    <div class="card">
      <h2 class="card-title">Our Adventures</h2>
      <p>Click to flip through our memories!</p>
      <div class="photo-stack" id="photoStack"></div>
      <p class="swipe-hint">to many more!!</p>
    </div>

    <!-- WINGSPAN -->
    <div class="card">
      <h2 class="card-title">Wingspan Night</h2>
      <p>our best cards</p>
      <div class="wingspan-cards">
        <div class="bird-card owl" onclick="this.style.transform='rotate('+Math.random()*6+'deg)'">
          <div class="bird-card-header">
            <span>Great Horned Owl</span>
            <span>ü¶â</span>
          </div>
          <div class="bird-card-art">ü¶â</div>
          <div class="bird-card-cost"><span class="rat">üêÄüêÄüêÄ</span> (worth it)</div>
          <div class="bird-card-power"><strong>When activated:</strong> your girlfriend says "OWLLL" and refuses to play anything else</div>
        </div>
        <div class="bird-card bonus" onclick="this.style.transform='rotate('+Math.random()*6+'deg)'">
          <div class="bird-card-header">
            <span>Bonus Hoarder</span>
            <span>üÉè</span>
          </div>
          <div class="bird-card-art">üê¶</div>
          <div class="bird-card-cost">draw all the bonus cards</div>
          <div class="bird-card-power"><strong>When activated:</strong> gain 47 bonus cards. Win by having more bonus cards than actual birds</div>
        </div>
        <div class="bird-card us" onclick="this.style.transform='rotate('+Math.random()*6+'deg)'">
          <div class="bird-card-header">
            <span>Owen & Alyssa</span>
            <span>‚ù§Ô∏è</span>
          </div>
          <div class="bird-card-art">üê¶‚Äç‚ù§Ô∏è‚Äçüê¶</div>
          <div class="bird-card-cost">cost: one sushi date</div>
          <div class="bird-card-power"><strong>When activated:</strong> gain unlimited wingspan rematches and one very happy valentine's day</div>
        </div>
      </div>
      <button class="play-btn" onclick="openWingspan()">ü™∂ Play Wingspan</button>
    </div>

    <!-- WINGSPAN MODAL -->
    <div class="modal-overlay" id="wingspanModal">
      <div class="modal">
        <button class="modal-close" onclick="closeWingspan()">‚úï</button>
        <div id="gameContainer"></div>
      </div>
    </div>

    <!-- FINAL -->
    <div class="card final-card">
      <h2 class="card-title">Happy Valentine's Day!</h2>
      <p class="final-message">
        Every moment with you is an adventure - from sushi dates to exploring SF to just being silly at home with Miffy (hound).
        <br><br>
        You make everything better.
        <br><br>
        thanks thanks thanks thanks for being you üíï
      </p>
      <div class="signature">Love, Owen</div>
    </div>

    <footer>
      Made with <span class="heart-icon">‚ù§Ô∏è</span> for my favorite person
      <br>
      <small>Happy Valentine's Day 2026</small>
    </footer>
  </div>

</div>

<script>
  // Photo data
  const photos = [
    { src: 'photos/IMG_4152.jpg', caption: 'Us being us üíï' },
    { src: 'photos/IMG_4220.jpg', caption: 'Date night!' },
    { src: 'photos/IMG_4280.jpg', caption: 'SF adventures üåâ' },
    { src: 'photos/IMG_4328.jpg', caption: 'Alcatraz ferry!' },
    { src: 'photos/IMG_4356.jpg', caption: 'Ghirardelli üç´' },
    { src: 'photos/IMG_4352.jpg', caption: 'Sourdough life ü•ñ' },
    { src: 'photos/IMG_4262.jpg', caption: 'Pier 39!' },
    { src: 'photos/IMG_4222.jpg', caption: 'Being silly üòÇ' },
    { src: 'photos/IMG_4207.jpg', caption: 'Chicago summer üå∏' },
    { src: 'photos/IMG_4248.jpg', caption: 'Adventure time ‚úàÔ∏è' },
    { src: 'photos/IMG_4272.jpg', caption: 'On top of the world üé°' },
    { src: 'photos/IMG_4337.jpg', caption: 'More adventures!' },
  ];

  // Floating hearts
  const heartsContainer = document.getElementById('hearts');
  const heartEmojis = ['‚ù§Ô∏è', 'üß°', 'üíõ', '‚ú®', '‚≠ê', 'üí´'];
  for (let i = 0; i < 15; i++) {
    const heart = document.createElement('div');
    heart.className = 'heart';
    heart.textContent = heartEmojis[Math.floor(Math.random() * heartEmojis.length)];
    heart.style.left = Math.random() * 100 + '%';
    heart.style.animationDelay = Math.random() * 15 + 's';
    heart.style.animationDuration = (15 + Math.random() * 10) + 's';
    heartsContainer.appendChild(heart);
  }

  // Start experience
  function startExperience() {
    document.getElementById('intro').style.display = 'none';
    document.getElementById('experience').classList.add('active');
    triggerEmojiRain(['üéâ', '‚ú®', '‚≠ê', 'üî•']);
    initPhotoStack();
  }

  // Thanks button spam
  const thanksBtn = document.getElementById('thanksBtn');
  const thanksZone = document.getElementById('thanksZone');
  const thanksCounter = document.getElementById('thanksCounter');
  let thanksCount = 0;

  thanksBtn.addEventListener('click', (e) => {
    thanksCount++;

    // Create flying thanks
    const numThanks = Math.min(3 + Math.floor(thanksCount / 10), 8);
    for (let i = 0; i < numThanks; i++) {
      const thanks = document.createElement('div');
      thanks.className = 'flying-thanks';
      thanks.textContent = 'thanks';
      thanks.style.left = (e.target.offsetLeft + e.target.offsetWidth/2 + Math.random() * 100 - 50) + 'px';
      thanks.style.top = (e.target.offsetTop + Math.random() * 40 - 20) + 'px';
      thanks.style.transform = `rotate(${Math.random() * 40 - 20}deg)`;
      thanks.style.fontSize = (0.8 + Math.random() * 0.5) + 'rem';
      thanksZone.appendChild(thanks);
      setTimeout(() => thanks.remove(), 1500);
    }

    // Update button and counter
    thanksCounter.textContent = `${thanksCount} thanks`;

    if (thanksCount >= 30) {
      thanksBtn.textContent = 'THANKS THANKS THANKS THANKS THANKS!!!';
      thanksBtn.style.background = 'linear-gradient(135deg, var(--pink), var(--purple))';
      thanksBtn.style.color = 'white';
    } else if (thanksCount >= 15) {
      thanksBtn.textContent = 'THANKS THANKS THANKS THANKS!!!';
    } else if (thanksCount >= 7) {
      thanksBtn.textContent = 'thanks thanks thanks thanks thanks';
    } else if (thanksCount >= 3) {
      thanksBtn.textContent = 'thanks thanks thanks thanks';
    }
  });

  // Hound reveal
  const houndCard = document.getElementById('houndCard');
  const houndHint = document.getElementById('houndHint');
  let houndClicks = 0;

  houndCard.addEventListener('click', () => {
    houndClicks++;
    if (houndClicks >= 1) {
      houndCard.classList.add('revealed');
      houndHint.textContent = 'hound.';
    }
  });

  // Photo stack
  function initPhotoStack() {
    const stack = document.getElementById('photoStack');
    let currentIndex = 0;

    function renderStack() {
      stack.innerHTML = '';

      // Show 3 cards
      for (let i = 2; i >= 0; i--) {
        const photoIndex = (currentIndex + i) % photos.length;
        const photo = photos[photoIndex];

        const polaroid = document.createElement('div');
        polaroid.className = 'polaroid';
        polaroid.style.transform = `rotate(${(i - 1) * 6}deg) translateY(${i * 8}px)`;
        polaroid.style.zIndex = 3 - i;

        if (i === 0) {
          polaroid.style.transform = 'rotate(0deg) scale(1.02)';
          polaroid.style.zIndex = 10;
        }

        polaroid.innerHTML = `
          <img src="${photo.src}" alt="${photo.caption}">
          <div class="polaroid-caption">${photo.caption}</div>
        `;

        if (i === 0) {
          polaroid.addEventListener('click', () => {
            polaroid.style.transition = 'transform 0.4s ease, opacity 0.4s';
            polaroid.style.transform = 'translateX(350px) rotate(25deg)';
            polaroid.style.opacity = '0';
            setTimeout(() => {
              currentIndex = (currentIndex + 1) % photos.length;
              renderStack();
            }, 300);
          });
        }

        stack.appendChild(polaroid);
      }
    }

    renderStack();
  }

  // Emoji rain
  function triggerEmojiRain(emojis) {
    const container = document.getElementById('emojiRain');
    for (let i = 0; i < 30; i++) {
      setTimeout(() => {
        const emoji = document.createElement('div');
        emoji.className = 'rain-emoji';
        emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
        emoji.style.left = Math.random() * 100 + '%';
        emoji.style.animationDuration = (2 + Math.random() * 2) + 's';
        container.appendChild(emoji);
        setTimeout(() => emoji.remove(), 4000);
      }, i * 80);
    }
  }

  // Wingspan Guided Experience
  let wsStep = 0;

  const wsSteps = [
    {
      text: "It's game night. You pull out Wingspan and start setting up.",
      btn: "Shuffle the deck üÉè",
      card: null,
    },
    {
      text: "You draw your first bird...",
      btn: "Draw",
      card: { name: 'Blue Jay', emoji: 'üê¶', cost: 'üåæ', pts: 2, power: 'When activated: gain food from the birdfeeder' },
      reaction: "Solid start. You place it in the forest."
    },
    {
      text: "Next draw...",
      btn: "Draw",
      card: { name: 'Cardinal', emoji: 'üê§', cost: 'üåæ üçí', pts: 3, power: 'When activated: draw 1 bonus card' },
      reaction: "Ooh a bonus card bird. You already know where this is going."
    },
    {
      text: "You reach for the bonus cards...",
      btn: "Draw bonus card",
      card: { name: 'Cartographer', emoji: 'üó∫Ô∏è', pts: '+3', isBonusCard: true },
      reaction: "The bonus card addiction begins."
    },
    {
      text: "Owen plays a boring bird. Whatever. Your turn.",
      btn: "Draw",
      card: { name: 'Crow', emoji: 'üê¶‚Äç‚¨õ', cost: 'üåæ ü™±', pts: 3, power: 'When activated: draw 2 bonus cards' },
      reaction: "TWO bonus cards?? This bird stays forever."
    },
    {
      text: "You draw those 2 bonus cards immediately.",
      btn: "Grab them",
      card: { name: 'Omnivore Expert + Nest Builder', emoji: 'üÉèüÉè', pts: '+6', isBonusCard: true },
      reaction: "You now have more bonus cards than actual birds. Classic."
    },
    {
      text: "Owen is concerned about your bonus card strategy. You don't care. Next draw...",
      btn: "Draw",
      card: { name: 'Duck', emoji: 'ü¶Ü', cost: 'üåæ üêü', pts: 3, power: 'When activated: draw 1 bonus card' },
      reaction: "Another bonus card bird. The collection grows."
    },
    {
      text: "You sense something in the deck. Something powerful. Something... expensive.",
      btn: "Draw slowly...",
      card: null,
      reaction: null,
      pause: true
    },
    {
      text: "...",
      btn: "üò≥",
      card: null,
    },
    {
      text: null,
      btn: "PLAY IT",
      card: { name: 'Great Horned Owl', emoji: 'ü¶â', cost: 'üêÄ üêÄ üêÄ', pts: 5, power: 'When activated: take food from another player\'s supply', isOwl: true },
      reaction: null,
      owlReveal: true
    },
    {
      text: "Three rats. You don't even hesitate.",
      btn: "Feed it the rats üêÄüêÄüêÄ",
      card: null,
      feedRats: true
    },
    {
      text: null,
      btn: null,
      card: null,
      ending: true
    }
  ];

  function openWingspan() {
    document.getElementById('wingspanModal').classList.add('open');
    wsStep = 0;
    renderWS();
  }

  function closeWingspan() {
    document.getElementById('wingspanModal').classList.remove('open');
  }

  function nextStep() {
    wsStep++;
    renderWS();
  }

  function renderWS() {
    const c = document.getElementById('gameContainer');
    const step = wsSteps[wsStep];

    if (step.ending) {
      c.innerHTML = `
        <div class="game-over-screen">
          <h3>Final Board</h3>
          <div style="font-size:2.5rem; margin:1rem 0;">üê¶ üê§ üê¶‚Äç‚¨õ ü¶Ü ü¶â</div>
          <div style="margin:0.5rem 0;">
            <span style="font-size:1.2rem;">üÉèüÉèüÉèüÉè</span>
            <div style="font-size:0.85rem;color:#888;">4 bonus cards because obviously</div>
          </div>
          <div class="final-score">34 pts</div>
          <div style="font-weight:600;color:#5c4033;margin-top:0.5rem;">
            Owen got 19 pts. You win. Again.
          </div>
          <div style="margin-top:1rem;font-size:0.95rem;color:#666;">
            thanks thanks thanks for always playing wingspan with me
          </div>
          <button class="game-action-btn" onclick="wsStep=0;renderWS()">Play Again</button>
        </div>
      `;
      return;
    }

    let html = '';

    if (step.owlReveal) {
      html += `
        <div style="text-align:center;animation:bounce-in 0.5s ease;">
          <div style="font-size:5rem;margin:1rem 0;">ü¶â</div>
          <div style="font-family:'Pacifico',cursive;font-size:1.8rem;color:#5c4033;margin-bottom:0.5rem;">Great Horned Owl</div>
          <div style="font-size:1.5rem;margin:0.5rem 0;">üêÄ üêÄ üêÄ</div>
          <div style="font-size:0.9rem;color:#666;margin:0.5rem 0;">5 points | When activated: take food from another player</div>
          <div style="font-weight:700;color:var(--purple);margin:1rem 0;font-size:1.1rem;">THE card.</div>
          <button class="game-action-btn" onclick="nextStep()">${step.btn}</button>
        </div>
      `;
      c.innerHTML = html;
      return;
    }

    if (step.feedRats) {
      html += `
        <div style="text-align:center;">
          <div style="font-size:1rem;color:#5c4033;margin-bottom:1rem;">${step.text}</div>
          <div style="font-size:3rem;margin:0.5rem 0;opacity:0.3;">üêÄ üêÄ üêÄ</div>
          <div style="font-size:1rem;margin:0.5rem 0;">‚û°Ô∏è</div>
          <div style="font-size:4rem;">ü¶â</div>
          <div style="font-weight:700;color:#5c4033;margin:1rem 0;">Worth every rat.</div>
          <button class="game-action-btn" onclick="nextStep()">Continue</button>
        </div>
      `;
      c.innerHTML = html;
      return;
    }

    html += '<div style="text-align:center;">';

    if (step.text) {
      html += `<p style="font-size:1rem;color:#5c4033;margin-bottom:1rem;">${step.text}</p>`;
    }

    if (step.card) {
      if (step.card.isBonusCard) {
        html += `
          <div style="display:inline-block;background:#ede7f6;border:2px solid #b39ddb;border-radius:12px;padding:1rem 1.5rem;margin:0.8rem 0;animation:fade-in 0.4s ease;">
            <div style="font-size:1.5rem;">${step.card.emoji}</div>
            <div style="font-weight:700;color:var(--purple);">${step.card.name}</div>
            <div style="font-size:0.85rem;color:#666;">Bonus: ${step.card.pts} pts</div>
          </div>
        `;
      } else {
        html += `
          <div class="tray-card" style="margin:0.8rem auto;animation:fade-in 0.4s ease;cursor:default;">
            <div class="tc-header" ${step.card.isOwl ? 'style="background:#5c4033;"' : ''}>
              <span>${step.card.name}</span>
              <span class="tc-pts">${step.card.pts}pt</span>
            </div>
            <div class="tc-art">${step.card.emoji}</div>
            <div class="tc-cost">Cost: ${step.card.cost}</div>
            <div class="tc-power">${step.card.power}</div>
          </div>
        `;
      }
    }

    if (step.reaction) {
      html += `<p style="font-weight:600;color:var(--purple);margin:0.8rem 0;">${step.reaction}</p>`;
    }

    if (step.btn) {
      html += `<button class="game-action-btn" onclick="nextStep()">${step.btn}</button>`;
    }

    html += '</div>';
    c.innerHTML = html;
  }

  // Party mode
  function partyMode() {
    triggerEmojiRain(['üéâ', 'üéä', 'üíï', '‚ú®', 'üíñ', 'ü•≥', 'üíó', 'üéà', 'üêï']);

    // Color flash
    document.body.style.transition = 'filter 0.2s';
    let flashes = 0;
    const flashInterval = setInterval(() => {
      document.body.style.filter = `hue-rotate(${flashes * 30}deg)`;
      flashes++;
      if (flashes > 12) {
        clearInterval(flashInterval);
        document.body.style.filter = 'none';
      }
    }, 150);
  }
</script>

</body>
</html>
